create table department(
    dept_id int primary key,
    dept_name varchar2(50) 
);
drop table department;

create table employee(
    emp_id int primary key,
    emp_name varchar2(50),
    dept_id int REFERENCES department(dept_id),
    salary int 
);

drop table employee;

INSERT INTO department VALUES (1, 'HR');
INSERT INTO department VALUES (2, 'IT');
INSERT INTO department VALUES (3, 'Finance');

INSERT INTO employee VALUES (101, 'Alice', 1, 50000);
INSERT INTO employee VALUES (102, 'Bob', 1, 60000);
INSERT INTO employee VALUES (103, 'Charlie', 2, 45000);
INSERT INTO employee VALUES (104, 'David', 2, 50000);
INSERT INTO employee VALUES (105, 'Eva', 3, 62000);

select d.dept_name,round(avg(e.salary)) as avg_salary from 
employee e
join department d on d.dept_id=e.dept_id
group by d.DEPT_NAME
order by d.dept_name;


CREATE TABLE employee (
    emp_id NUMBER PRIMARY KEY,
    name VARCHAR2(30),
    dept VARCHAR2(20)
);

INSERT INTO employee VALUES (201, 'Alice', 'HR');
INSERT INTO employee VALUES (202, 'Bob', 'HR');
INSERT INTO employee VALUES (203, 'Charlie', 'IT');
INSERT INTO employee VALUES (204, 'David', 'IT');
INSERT INTO employee VALUES (205, 'Eva', 'Finance');
select name from employee where dept='HR' minus select name from employee where dept='IT';

create table order_raw_s(
    order_id int,
    customer_name varchar2(50),
    customer_phone varchar(20),
    product varchar2(50),
    quantity int
);

drop table order_raw_s;

create table order_raw_s(
    order_id int ,
    customer_name varchar2(50),
    customer_phone varchar2(50),
    product varchar2(50),
    quantity int
);

INSERT INTO order_raw_s VALUES (301, 'Tom', '9876543210', 'Laptop', 1);

INSERT INTO order_raw_s VALUES (302, 'Sara', '9876501234', 'Tablet', 2);
INSERT INTO order_raw_s VALUES (303, 'Tom', '9876543210', 'Mouse', 3);
INSERT INTO order_raw_s VALUES (304, 'John', '9876549999', 'Keyboard', 1);
INSERT INTO order_raw_s VALUES (304, 'John', '9876549999', 'Mousepad', 2);


create table customer_info_s(
    customer_id int generated by default as identity primary key,
    customer_name varchar2(50) not null,
    customer_phone varchar(20) not null

);

insert into customer_info_s (customer_name,customer_phone) values ('Tom','9876543210');
insert into customer_info_s (customer_name,customer_phone) values ('Sara','9876501234');


create table product_info_s(
    product_id int generated by default as identity primary key,
    product_name varchar2(50) not null
);

insert into product_info_s (product_name) values ('Laptop');
insert into product_info_s (product_name) values ('Mouse');
insert into product_info_s (product_name) values ('Keyboard');
insert into product_info_s (product_name) values ('Mousepad');
insert into product_info_s (product_name) values ('Tablet');


create table order_info_s(
    order_id int primary key,
    customer_id int ,
    foreign key (customer_id) REFERENCES customer_info_s(customer_id)
);

insert into orders_info_s (order_id,customer_id) values(301,1);
insert into orders_info_s (order_id,customer_id) values(302,2);
insert into orders_info_s (order_id,customer_id) values(303,1);
insert into orders_info_s (order_id,customer_id) values(304,1);



create table order_details_s(
    order_details_id int generated by default as identity primary key,
    order_id int not null,
    product_id int not null,
    quantity int not null,
    foreign key (order_id) references orders_info_s(order_id),foreign key (product_id) references product_info_s(product_id)
);

insert into order_details_s (order_id,product_id,quantity) values(301,1,1);
insert into order_details_s (order_id,product_id,quantity) values(302,2,2);
insert into order_details_s (order_id,product_id,quantity) values(303,3,3);
insert into order_details_s (order_id,product_id,quantity) values(304,4,1);


